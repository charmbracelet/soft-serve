# vi: set ft=conf

# convert crlf to lf on windows
[windows] dos2unix repo3.txt

# start soft serve
exec soft serve &
# wait for SSH server to start
ensureserverrunning SSH_PORT

# import private
soft repo import --private repo1 https://github.com/charmbracelet/catwalk.git
soft repo private repo1
stdout 'true'

# import hidden
soft repo import --hidden repo2 https://github.com/charmbracelet/catwalk.git
soft repo hidden repo2
stdout 'true'

# import with name and description
soft repo import --name 'repo33' --description 'descriptive' repo3 https://github.com/charmbracelet/catwalk.git
soft repo info repo3
cmp stdout repo3.txt

# stop the server
[windows] stopserver
[windows] ! stderr .

-- repo3.txt --
Project Name: repo33
Repository: repo3
Description: descriptive
Private: false
Hidden: false
Mirror: false
Owner: admin
Default Branch: main
Branches:
  - main
  - openrouter-update
Tags:
  - v0.4.12
  - v0.4.11
  - v0.4.10
  - v0.4.9
  - v0.4.8
  - v0.4.7
  - v0.4.6
  - v0.4.5
  - v0.4.4
  - v0.4.3
  - v0.4.2
  - v0.4.1
  - v0.4.0
  - v0.3.6
  - v0.3.5
  - v0.3.4
  - v0.3.3
  - v0.3.2
  - v0.3.1
  - v0.3.0
  - v0.2.0
  - v0.1.0
